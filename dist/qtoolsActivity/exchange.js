!function(e){function n(n){for(var o,r,s=n[0],a=n[1],u=n[2],f=0,d=[];f<s.length;f++)r=s[f],i[r]&&d.push(i[r][0]),i[r]=0;for(o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o]);for(l&&l(n);d.length;)d.shift()();return c.push.apply(c,u||[]),t()}function t(){for(var e,n=0;n<c.length;n++){for(var t=c[n],o=!0,s=1;s<t.length;s++){var a=t[s];0!==i[a]&&(o=!1)}o&&(c.splice(n--,1),e=r(r.s=t[0]))}return e}var o={},i={3:0},c=[];function r(n){if(o[n])return o[n].exports;var t=o[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,r),t.l=!0,t.exports}r.m=e,r.c=o,r.d=function(e,n,t){r.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,n){if(1&n&&(e=r(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(r.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)r.d(t,o,function(n){return e[n]}.bind(null,o));return t},r.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(n,"a",n),n},r.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},r.p="./";var s=window.webpackJsonp=window.webpackJsonp||[],a=s.push.bind(s);s.push=n,s=s.slice();for(var u=0;u<s.length;u++)n(s[u]);var l=a;c.push([6,1,0]),t()}({16:function(e,n){},6:function(e,n,t){"use strict";(function(e){t(11),t(16);var n=i(t(1)),o=i(t(3));function i(e){return e&&e.__esModule?e:{default:e}}(0,n.default)(100,1),e(document).ready(function(){new o.default({el:"#root",data:{productList:[],couponList:[],totalBadges:100,visibleOne:!1,visibleTwo:!1,visibleThr:!1,visibleCover:!1,currentItem:{},user:"",accesstoken:"",fileDomain:""},created:function(){var e=this;window.showAccessToken=function(n){e.showAccessToken(n)},this.getAccessToken()},mounted:function(){var e=this;setTimeout(function(){e.getData()})},methods:{getAccessToken:function(){var e=window.Qtools.getAccessToken(null);this.accesstoken=e},showAccessToken:function(e){this.accesstoken=e},goExchange:function(e,n){1!=e?(console.log(n),this.currentItem=n,this.visibleOne=!0,this.visibleCover=!0):window.Qtools.goWebPage(JSON.stringify({num:8,presentId:n.pdSpuActiveId,mainPicUrl:n.picUrl,name:n.name,valueQty:n.valueQty}))},confirmExchange:function(e){this.exchangeApi()},exchangeApi:function(){var n=this,t={accesstoken:n.accesstoken,couponId:n.currentItem.couponId,couponCode:n.currentItem.couponCode,valueQty:n.currentItem.valueQty};t=JSON.stringify(t),e.ajax({url:"/invitation/exchange/coupon/save",type:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},data:t,dataType:"json",success:function(e){n.visibleOne=!1,"1"!=e.data.giveCouponCode?n.visibleTwo=!0:n.visibleThr=!0},err:function(e){console.log(e),n.visibleOne=!1}})},goExchangeDetail:function(e){var n=e.type,t={num:9,type:n,presentId:1==n?e.pdSpuActiveId:e.couponId};window.Qtools.goWebPage(JSON.stringify(t))},goUseCoupon:function(e){console.log("去使用"),this.onCancel("visibleThr"),window.Qtools.goTab(JSON.stringify({index:0}))},onCancel:function(e){this[e]=!1,this.visibleCover=!1,"visibleTwo"==e&&window.location.reload()},goGiftPage:function(){window.location.href="./exchange.html"},getData:function(){var n=this;e.ajax({url:"/invitation/exchange/search?accesstoken="+n.accesstoken,type:"GET",dataType:"json",success:function(e){var t=e.data.couponList?e.data.couponList:[];n.couponList=t,n.productList=e.data.productList?e.data.productList:[],n.user=e.data.user,n.fileDomain=e.fileDomain},err:function(e){window.Qtools.goLogin(null)}})}}})})}).call(this,t(0))}});